<Project>
  <PropertyGroup Label="Product Infomation">
    <Company>MMS Development Team.</Company>
    <Product>MMS</Product>
    <Copyright>Â© $(Company). All rights reserved.</Copyright>
    <Authors>$(Company)</Authors>
    <MMSDescription>$(Product) is a media management framework based on OrchardCore framework</MMSDescription>
    <Description>$(Product) - Media Managment System.</Description>
    <PackageTags>$(PackageTags); $(Company); $(Product); Media Management</PackageTags>
    <!--<PackageIconUrl></PackageIconUrl>-->

    <VersionPrefix>6.0.0</VersionPrefix>
    <VersionSuffix>local.$([System.DateTime]::Now.ToString(`yyyyMMdd`)).1</VersionSuffix>
  </PropertyGroup>

  <PropertyGroup Label="Versioning">
    <LibraryTargetFramework>netstandard2.1</LibraryTargetFramework>
    <AppTargetFramework>net6.0</AppTargetFramework>
    <AspNetCoreVersion>2.2.0</AspNetCoreVersion>
    <MicrosoftExtensionsVersion>6.0.0</MicrosoftExtensionsVersion>
    <EFVersion>6.0.0</EFVersion>
    <OrchardCoreVersion>1.2.2</OrchardCoreVersion>
  </PropertyGroup>

  <PropertyGroup Label="Build">
    <GeneratePackageOnBuild>false</GeneratePackageOnBuild>
    <EnableSourceLink>false</EnableSourceLink>
    <BaseIntermediateOutputPath>$(SolutionDir)/build/obj/$(MSBuildProjectName)</BaseIntermediateOutputPath>
    <OutputPath>$(SolutionDir)/build/bin/$(Configuration)/$(MSBuildProjectName)</OutputPath>
    <PackageLocation>$(SolutionDir)/build/publish/$(Configuration)/</PackageLocation>
  </PropertyGroup>

  <PropertyGroup Label="CI Build Library - SDK" Condition="'$(TF_BUILD)' == 'true' and '$(UsingMicrosoftNETSdk)' == 'true' and '$(UsingMicrosoftNETSdkWeb)' != 'true'">
    <GeneratePackageOnBuild Condition="">true</GeneratePackageOnBuild>
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <EmbedUntrackedSources>true</EmbedUntrackedSources>
    <DebugType>embedded</DebugType>
    <EnableSourceLink>true</EnableSourceLink>
  </PropertyGroup>

  <ItemGroup Label="CI Build Library" Condition="'$(UsingMicrosoftNETSdk)' == 'true' and '$(TF_BUILD)' == 'true'">
    <PackageReference Include="Microsoft.SourceLink.AzureDevOpsServer.Git" Version="1.*" PrivateAssets="All"/>
    <SourceLinkAzureDevOpsServerGitHost Include="devops.mms-dev.app" VirtualDirectory=""/>
  </ItemGroup>

  <PropertyGroup Label="CI Build" Condition="'$(TF_BUILD)' == 'true'">
    <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>
    <Version Condition="'$(BUILD_BUILDNUMBER)' != ''">$(BUILD_BUILDNUMBER)</Version>
    <BaseIntermediateOutputPath>$(BUILD_BINARIESDIRECTORY)/obj/$(MSBuildProjectName)</BaseIntermediateOutputPath>
    <OutputPath>$(BUILD_BINARIESDIRECTORY)/bin/$(Configuration)/$(MSBuildProjectName)</OutputPath>
    <PackageLocation>$(BUILD_BINARIESDIRECTORY)publish/$(Configuration)/</PackageLocation>
  </PropertyGroup>
</Project>